<div ng-controller="NbfCatalogMailingPrefsController as vm" class="widget-contactform" ng-cloak>
    <div class="cf-form [[Model.CssClass]]">
        <form method="post">
            <div class="required-msg"><span class="redTxt">*</span> [% translate 'Required' %]</div>
            <div class="cf-form-firstname">
                <label for="firstName[[Model.ContentKey]]">[% translate 'First Name' %] <span class="redTxt">*</span></label>
                <input type="text" ng-model="vm.form.FirstName" id="firstName[[Model.ContentKey]]" />
            </div>
            <div class="cf-form-lastname">
                <label for="lastName[[Model.ContentKey]]">[% translate 'Last Name' %] <span class="redTxt">*</span></label>
                <input type="text" ng-model="vm.form.LastName" id="lastName[[Model.ContentKey]]" />
            </div>
            <div class="cf-form-company">
                <label for="company[[Model.ContentKey]]">[% translate 'Company' %]</label>
                <input type="text" ng-model="vm.form.Company" id="company[[Model.ContentKey]]" />
            </div>
            <div class="cf-form-addressLine1">
                <label for="addressLine1[[Model.ContentKey]]">[% translate 'Address Line 1' %] <span class="redTxt">*</span></label>
                <input type="text" ng-model="vm.form.AddressLine1" id="addressLine1[[Model.ContentKey]]" />
            </div>
            <div class="cf-form-addressLine2">
                <label for="addressLine2[[Model.ContentKey]]">[% translate 'Address Line 2' %]</label>
                <input type="text" ng-model="vm.form.AddressLine2" id="addressLine2[[Model.ContentKey]]" />
            </div>
            <div class="cf-form-city">
                <label for="city[[Model.ContentKey]]">[% translate 'City' %] <span class="redTxt">*</span></label>
                <input type="text" ng-model="vm.form.City" id="city[[Model.ContentKey]]" />
            </div>
            <div class="cf-form-state">
                <label for="state[[Model.ContentKey]]">[% translate 'State' %] <span class="redTxt">*</span></label>
                <input type="text" ng-model="vm.form.State" id="state[[Model.ContentKey]]" />
            </div>
            <div class="cf-form-zip">
                <label for="zip[[Model.ContentKey]]">[% translate 'Zip' %] <span class="redTxt">*</span></label>
                <input type="text" ng-model="vm.form.Zip" id="zip[[Model.ContentKey]]" />
            </div>  
            <div>
                <input style="display:none" type="text" ng-model="vm.form.EmailTo" id="emailTo[[Model.ContentKey]]" ng-init="vm.form.EmailTo='[[Model.EmailToValue]]'" />
            </div>
            <div class="cf-form-prioritycode">
                <label for="priorityCode[[Model.ContentKey]]">[% translate 'Priority Code' %] <span class="redTxt">*</span></label>
                <input type="text" ng-model="vm.form.PriorityCode" id="priorityCode[[Model.ContentKey]]" />
            </div>
            <div class="cf-form-preference">
                <label for="preference[[Model.ContentKey]]">[% translate 'Please select your preferred contact method' %] <span class="redTxt">*</span></label>
                <select id="preference[[Model.ContentKey]]" ng-model="vm.form.Preference" data-val-required="[[Model.TopicIsRequiredErrorMessage]]" data-val="true">
                    <option value="">[% translate 'Select Preference' %]</option>
                    [% for pref in Model.Preferences -%]
                    <option>[[pref]]</option>
                    [% endfor -%]
                </select>
                <span data-valmsg-replace="true" data-valmsg-for="Preference"></span>
            </div>            
            <div ng-show="!vm.submitted" class="btns">
                <button id="tst_contactUsPage_send" ng-click="vm.sendEmail($event)" class="btn primary btn-send">[% translate 'Send' %]</button>
            </div>
            <div ng-show="vm.submitted" id="tst_contactUsPage_successMessage" class="successMessage">
                [[Model.SuccessMessage]]
            </div>
        </form>
    </div>
</div>