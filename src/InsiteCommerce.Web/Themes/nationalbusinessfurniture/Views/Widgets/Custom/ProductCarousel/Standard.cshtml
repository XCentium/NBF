<div ng-controller="NbfProductCarouselController as vm" product-numbers-string="[[Model.ProductNumbersString]]" ng-cloak
     pr-api-key="[% siteMessage 'PowerReviews_ApiKey' '56b8fc6a-79a7-421e-adc5-36cbdaec7daf ' %]"
     pr-merchant-group-id="[% siteMessage 'PowerReviews_MerchantGroupId' '47982' %]"
     pr-merchant-id="[% siteMessage 'PowerReviews_MerchantId' '33771' %]"
     >
    <div class="row" role="cross-sells">
        <div class="medium-12 large-12 columns">
            <div class="carousel-title">
                [[Model.Title]]
            </div>
            <div class="carousel-wrapper">
                <div class="cs-carousel">
                    <ul class="items slides tst_crossSellProduct_slides">
                        <li id="tst_crossSellProduct_{{product.id}}" class="medium-3 large-3 columns isc-productContainer tst_crossSellProduct_productContainer" ng-repeat="product in vm.products track by product.id">
                            <div class="item-wrap">
                                <div class="carousel-item-equalize">
                                    <div class="favorite-btn" ng-if="vm.isAuthenticated">
                                        <a id="tst_productDetail_addToWishList" ng-class="{'in-favorites': product.properties['isFavorite'] == 'true' } "
                                           ng-click="vm.toggleFavorite(product)" role="button"
                                           class="btn secondary btn-add-to-list" href="javascript:;"></a>
                                    </div>
                                    <div class="thumb-wrap">
                                        <div class="item-thumb">
                                            <a ng-href="{{::product.productDetailUrl}}">
                                                <img ng-src="https://s7d9.scene7.com/is/image/NationalBusinessFurniture/{{::product.mediumImagePath}}?hei=250&id=Iu1rN2&fmt=jpg&fit=constrain,1&wid=250&hei=250" alt="{{::product.altText}}" increment-images-loaded/>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="item-block__product__swatch">
                                        <ul>
                                            <li ng-repeat="swatchImg in vm.getTop3Swatches(product.properties['swatches'])">
                                                <div class="item-block__product__swatch__img-wrap">
                                                    <img class="item-block__product__swatch" ng-src="https://s7d9.scene7.com/is/image/NationalBusinessFurniture/{{swatchImg}}?hei=200&id=5-zsy2&fmt=jpg&fit=constrain,1&wid=344&hei=344"/>
                                                </div>
                                            </li>
                                            <li class="item-block__product__more-link"><u>More</u></li>
                                        </ul>
                                    </div>
                                    <div class="item-name">
                                        <a ng-href="{{::product.productDetailUrl}}">{{::product.shortDescription}}</a>
                                    </div>

                                    <div class="product-info">
                                        <div class="item-num">
                                            <span class="item-num-sku">{{::product.erpNumber}}</span>
                                            <span class="item-num-mfg" ng-if="::(!!product.manufacturerItem)">[% translate 'MFG #' %]: {{::product.manufacturerItem}}</span>
                                            <span class="item-num-my" ng-if="::(!!product.customerName)">[% translate 'My Part #' %]: {{::product.customerName}}</span>
                                        </div>

                                        <div class="price item-block__product__price" ng-if="!vm.failedToGetRealTimePrices">
                                            <isc-product-price product="product" id-key="" ng-if="::product.canShowPrice"></isc-product-price>
                                            <isc-product-price-saving product="product" currency-symbol="product.currencySymbol" ng-cloak></isc-product-price-saving>
                                            <div ng-if="vm.isAttributeValue(product, 'GSA', 'Yes');" class="item-block__product__flag gsa">
                                                GSA
                                            </div>
                                            <div ng-if="product.priceCode != null && product.priceCode.length > 0" class="item-block__product__flag save">
                                                SAVE {{product.priceCode}}%
                                            </div>
                                            <span class="um displayUnitOfMeasure" ng-if="vm.showUnitOfMeasureLabel(product)">
                                                <span class="um-sep">/</span>
                                                <span class="selected-uom">{{product.unitOfMeasureDescription || product.unitOfMeasureDisplay}}</span>
                                            </span>
                                        </div>
                                        <div class="price" ng-if="vm.failedToGetRealTimePrices">
                                            <div>[% siteMessage 'RealTimePricing_PriceLoadFailed' %]</div>
                                        </div>
                                        <div class="um-pack" ng-if="::product.canShowUnitOfMeasure">
                                            <div class="um">
                                                <label ng-if="::vm.showUnitOfMeasure(product)">[% translate 'U/M' %]:</label>
                                                <isc-unit-of-measure-select-list product="product" alternate-units-of-measure="{{::vm.productSettings.alternateUnitsOfMeasure}}" display-pack="true" change-unit-of-measure="vm.changeUnitOfMeasure(product)"></isc-unit-of-measure-select-list>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="item-block__product__col-2 clearfix">
                                        <div class="col-1">
                                            <div id="pr-{{product.productCode}}" class="item-block__product__stars">
                                            </div>
                                        </div>
                                        <div class="col-2">
                                            <div class="item-block__product__ships-today" ng-if="vm.isAttributeValue(product, 'Ships Today', 'Yes');"><span class="ico-Truck"></span> Ships Today!</div>
                                        </div>
                                    </div>
                                    <div class="actions-block">
                                        <div class="item-qty" ng-if="::product.canAddToCart">
                                            <input type="text" ng-model="product.qtyOrdered" ng-init="product.qtyOrdered = product.minimumOrderQty || 1" class="qty numerictextbox tst_crossSellProduct_qtyOrdered"/>
                                        </div>
                                        <div class="action">
                                            <button class="btn primary btn-add-cart tst_crossSellProduct_addToCart" ng-click="vm.addToCart(product)" ng-if="::product.canAddToCart" ng-disabled="!product.qtyOrdered || product.qtyOrdered == 0 || vm.addingToCart">[% translate 'Add to Cart' %]</button>
                                        </div>
                                        <a href="javascript:void(0);" class="btn secondary btn-add-list isc-addToWishlistPopup tst_crossSellProduct_addToWishlist" ng-click="vm.openWishListPopup(product)" ng-if="::product.canAddToWishlist">[% translate 'Add to List' %]</a>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="flex-control-wrap">
                    <a href="#" class="carousel-control-nav carousel-control-prev flex-prev"><span></span></a>
                    <div class="custom-controls-container">

                    </div>
                    <a href="#" class="carousel-control-nav carousel-control-next flex-next"><span></span></a>
                </div>
            </div>
        </div>
    </div>
</div>