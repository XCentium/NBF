{% comment %}
    usage example:
<isc-catalog-breadcrumb breadcrumbs="category.breadCrumbs" search-query="query"></isc-catalog-breadcrumb>

    breadcrumbs is a list of objects of type BreadCrumbModel
{% endcomment %}
<div class="row breadcrumb-wrap clearfix">
    <ul class="breadcrumbs" ng-class="{bsearch: searchQuery}">
        <li ng-repeat="crumb in breadcrumbs" ng-class="{'hide-for-small': (breadcrumbs.length - $index) != 2, 'current': $last}">
            <a ng-if="crumb.url" ng-href="{{crumb.url}}">{{crumb.text}}</a>
            <isc-no-element ng-show="!crumb.url">{{crumb.text}}</isc-no-element>
        </li>
        <li ng-if="searchQuery">
            <a href="[% urlForPage 'HomePage' %]">[% translate 'Home' %]</a>
        </li>
        <li ng-if="searchQuery" class="hide-for-small current">
            [% translate 'Search Results:' %]
            <em>{{searchQuery}}</em>
        </li>
    </ul>

    <ul class="share-links hide-for-print">
        <li class="share-label">Share</li>
        <li class="cell">
            <!--
            <a class="fa fa-envelope" href="mailto:?subject=[% siteMessage 'SocialMediaLinks_EmailSubject' 'I wanted you to see this site' %]&amp;body={{vm.url}} [[CurrentPage.Title]]" title="Share by Email">
            </a>
                -->
            <a id="tst_productDetail_share" ng-controller="NbfSocialMediaController as vm" ng-cloak class="fa fa-envelope pd-zoom" href="javascript:void(0);" ng-click="vm.openShareWithFriendPopup()"></a>
            <nbf-tell-a-friend-popup data-reveal></nbf-tell-a-friend-popup>
        </li>
        <li class="cell">
            <a target="_blank" class="stb-btn stb-twitter fa fa-twitter" aria-label="tweet" href="https://twitter.com/share?url={{vm.url}}&amp;text=[[CurrentPage.Title]]"></a>
        </li>
        <li class="cell">
            <a class="fa fa-facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?app_id=242711322507315&sdk=joey&u={{vm.url}}&display=popup&ref=plugin&src=share_button"></a>
        </li>
        <li class="cell">
            <a class="" target="_blank" href="https://www.pinterest.com/pin/create/button/?url={{vm.url}}&description=[[CurrentPage.Title]]">
                <i class="fa fa-pinterest-p" aria-hidden="true"></i>
            </a>
        </li>
        <li class="cell"><a href="javascript: window.print();" class="ico ico-printer-with-paper" aria-hidden="true"></a></li>
    </ul>


    <script type="text/ng-template" id="productDetail_tellAFriend">
        <div style="display: none;">
            <div id="TellAFriendDialogContainer" class="product-detail popup-share reveal-modal" data-reveal data-reveal-init>
                <div class="modal-wrap">
                    <h2>[% translate 'Share with a Friend' %]</h2>
                    <form novalidate id="tellAFriendForm" class="custom">
                        <div class="row share-name">
                            <isc-tell-a-friend-field field-label="[% translate 'Friend's Name' %]"
                                                     field-name="friendsName"
                                                     field-value="vm.tellAFriendModel.friendsName"
                                                     is-required="true"
                                                     is-email="false">
                            </isc-tell-a-friend-field>
                        </div>
                        <div class="row share-email">
                            <isc-tell-a-friend-field field-label="[% translate 'Friend's Email' %]"
                                                     field-name="friendsEmail"
                                                     field-value="vm.tellAFriendModel.friendsEmailAddress"
                                                     is-required="true"
                                                     is-email="true">
                            </isc-tell-a-friend-field>
                        </div>
                        <div class="row share-you">
                            <isc-tell-a-friend-field field-label="[% translate 'Your Name' %]"
                                                     field-name="yourName"
                                                     field-value="vm.tellAFriendModel.yourName"
                                                     is-required="true"
                                                     is-email="false">
                            </isc-tell-a-friend-field>
                        </div>
                        <div class="row share-youmail">
                            <isc-tell-a-friend-field field-label="[% translate 'Your Email' %]"
                                                     field-name="yourEmail"
                                                     field-value="vm.tellAFriendModel.yourEmailAddress"
                                                     is-required="true"
                                                     is-email="true">
                            </isc-tell-a-friend-field>
                        </div>
                        <div class="row share-msg">
                            <div class="large-5 columns">
                                <span>[% translate 'Your Message' %]</span>
                                <span class="redTxt">*</span>
                            </div>
                            <div class="large-7 columns">
                                <textarea ng-model="vm.tellAFriendModel.yourMessage" autofocus="autofocus"
                                          id="yourMessage"
                                          name="yourMessage"
                                          data-rule-required="true"
                                          data-msg-required="{{ '[% siteMessage 'Field_Required' EscapeSingleQuotes %]'.replace('{0}', '[% translate 'Your Message' EscapeSingleQuotes %]') }}"></textarea>
                                <span class="field-validation-valid" data-valmsg-for="yourMessage" data-valmsg-replace="true"></span>
                            </div>
                        </div>
                        <div class="row btns">
                            <button id="tst_productDetail_shareSubmit" ng-click="vm.shareWithFriend()" class="btn primary btn-create-wishlist" type="button">[% translate 'Share' %]</button>
                        </div>
                    </form>
                    <div id="tst_productDetail_shareSubmitMessage" class="messaging" ng-show="vm.isSuccess || vm.isError">
                        <span ng-show="vm.isSuccess">[% siteMessage 'TellAFriend_Success' %]</span>
                        <span ng-show="vm.isError">[% siteMessage 'TellAFriend_Error' %]</span>
                    </div>
                    <a class="close-reveal-modal">&#215;</a>
                </div>
            </div>
        </div>
    </script>

    <script type="text/ng-template" id="productDetail_tellAFriendField">
        <div>
            <div class="large-5 columns">
                <span ng-bind="fieldLabel"></span>
                <span class="redTxt" ng-show="isRequired">*</span>
            </div>
            <div class="large-7 columns">
                <input type="text" ng-model="fieldValue" autofocus="autofocus"
                       id="{{fieldName}}"
                       name="{{fieldName}}"
                       data-rule-required="{{isRequired}}"
                       data-msg-required="{{'[% siteMessage 'Field_Required' EscapeSingleQuotes %]'.replace('{0}', fieldLabel)}}"
                       data-rule-email="{{isEmail}}"
                       data-msg-email="{{'[% siteMessage 'Field_Invalid' EscapeSingleQuotes %]'.replace('{0}', fieldLabel)}}"
                       data-rule-regex="{{ isEmail === 'true' ? '[% emailRegex %]' : '.*' }}"
                       data-msg-regex="{{'[% siteMessage 'Field_Invalid' EscapeSingleQuotes %]'.replace('{0}', fieldLabel)}}">
                <span class="field-validation-valid" data-valmsg-for="{{fieldName}}" data-valmsg-replace="true"></span>
            </div>
        </div>
    </script>
</div>